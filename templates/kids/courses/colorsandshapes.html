<!-- Progress tracker removed as requested -->

{% extends 'base.html' %}
{% block content %}
<style>
  .course-hero {
    background: linear-gradient(135deg, #ffe066 60%, #a3cef1 100%);
    border-radius: 1.5rem;
    box-shadow: 0 4px 24px rgba(44,130,201,0.10);
    padding: 32px 24px 24px 24px;
    margin-bottom: 32px;
    text-align: center;
  }
  .course-section {
    margin-bottom: 32px;
  }
  .activity-card {
    background: #fffbe6;
    border-radius: 1rem;
    box-shadow: 0 2px 8px rgba(44,130,201,0.08);
    padding: 18px;
    margin-bottom: 18px;
    text-align: left;
  }
  .lesson-card {
    background: #eaf6fb;
    border-radius: 1rem;
    box-shadow: 0 2px 8px rgba(44,130,201,0.08);
    padding: 18px;
    margin-bottom: 18px;
  }
  /* Progress bar and tracker CSS removed */
</style>
<div class="container py-4">
  {% if not enrolled %}
    <form method="post">
      {% csrf_token %}
      <button type="submit" class="btn btn-success mb-3">Start Course</button>
    </form>
    <div class="alert alert-warning">You must start the course to access lessons and activities.</div>
    <div class="alert alert-info">[Debug] Enrollment status: <strong>Not Enrolled</strong></div>
  {% endif %}
  {% if enrolled %}
    <div class="alert alert-success">[Debug] Enrollment status: <strong>Enrolled</strong></div>
  <div class="course-hero">
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Colors & Shapes" style="max-height:80px;">
    <h1 class="fw-bold mb-2" style="color:#2d6a4f;">Colors & Shapes</h1>
    <div class="mb-2">
      <span class="badge bg-warning text-dark mx-1">Fun Pictures</span>
      <span class="badge bg-info mx-1">{{ course.subject.name }}</span>
      <span class="badge bg-success mx-1">{{ course.level }}</span>
      <span class="badge bg-primary mx-1">Ages {{ course.age_group.min_age }}-{{ course.age_group.max_age }}</span>
    </div>
    <p class="lead mt-2">Hello! Let's learn about colors and shapes. We will play, draw, and have fun together!</p>
  <!-- Progress bar and completion message fully removed -->
  </div>

  <div class="course-section">
  <h3 class="mb-3 text-primary"><i class="bi bi-brush"></i> Fun Activities</h3>
    <div class="row">
      <div class="col-md-6">
        <div class="activity-card">
          <h5><i class="bi bi-search"></i> Color Hunt</h5>
          <p>Can you find something red, blue, or yellow? Point to it and say the color!</p>
        </div>
        <div class="activity-card">
          <h5><i class="bi bi-shapes"></i> Shape Sorting</h5>
          <p>Can you put the circle with other circles? Try with squares and triangles too!</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="activity-card">
          <h5><i class="bi bi-droplet"></i> Color Mixing</h5>
          <p>Mix red and yellow. What color do you get? Try with blue and yellow!</p>
        </div>
        <div class="activity-card">
          <h5><i class="bi bi-pencil"></i> Draw Your Own Shape</h5>
          <p>Draw a big circle. Now draw a small square. Can you draw a triangle?</p>
        </div>
      </div>
    </div>
  <div class="alert alert-info mt-3">More fun games soon! Play and see how much you learn!</div>
  </div>

  <div class="course-section">
  <h3 class="mb-3 text-success"><i class="bi bi-lightbulb"></i> Easy Lessons</h3>
    {% if lessons %}
      {% for lesson in lessons %}
        <div class="lesson-card">
          <h5><a href="{% url 'lesson_by_order' lesson.order %}" class="text-decoration-none text-success">{{ lesson.title }}</a></h5>
          <div class="row mb-2">
            {% if lesson.image_red %}
              <div class="col-md-4 text-center">
                <img src="{{ lesson.image_red.url }}" alt="Red" class="img-fluid rounded mb-2" style="max-height:120px;">
                <div class="fw-bold" style="color:#d90429;">Red</div>
              </div>
            {% endif %}
            {% if lesson.image_blue %}
              <div class="col-md-4 text-center">
                <img src="{{ lesson.image_blue.url }}" alt="Blue" class="img-fluid rounded mb-2" style="max-height:120px;">
                <div class="fw-bold" style="color:#005f73;">Blue</div>
              </div>
            {% endif %}
            {% if lesson.image_yellow %}
              <div class="col-md-4 text-center">
                <img src="{{ lesson.image_yellow.url }}" alt="Yellow" class="img-fluid rounded mb-2" style="max-height:120px;">
                <div class="fw-bold" style="color:#ffd60a;">Yellow</div>
              </div>
            {% endif %}
          </div>
          <p>{{ lesson.content|linebreaks }}</p>
        </div>
      {% endfor %}
    {% else %}
  <div class="alert alert-info">No lessons yet. Come back soon for more fun!</div>
    {% endif %}
  </div>

  <div class="course-section">
    <h3 class="mb-3 text-secondary"><i class="bi bi-person-lines-fill"></i> Parent Tips</h3>
    <div class="card p-3 bg-light">
      <ul>
        <li>Ask your child: What color is this? What shape is that?</li>
        <li>Let your child play with blocks and crayons.</li>
        <li>Draw together and have fun!</li>
      </ul>
    </div>
  </div>

  <div class="text-center mt-4">
    <a href="{% url 'kids_online_platform' %}" class="btn btn-secondary btn-lg">Back to Courses</a>
  </div>
  {% endif %}
</div>
{% endblock %}
