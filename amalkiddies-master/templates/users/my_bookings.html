{% extends 'home.html' %}
{% block content %}
<h2 class="section-title">My Bookings</h2>
<style>
  body.night-theme .list-group-item {
    background: #23272f !important;
    color: #f1f1f1 !important;
    border-color: #444 !important;
  }
  .view-ticket-btn {
    float: right;
    margin-top: 8px;
    font-weight: 600;
    font-size: 1rem;
    background: #ff4066;
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 6px 18px;
    transition: background 0.3s;
  }
  .view-ticket-btn:hover {
    background: #e7335b;
    color: #fff;
  }
</style>
{% if bookings %}
  <ul class="list-group">
    {% for booking in bookings %}
      <li class="list-group-item">
        <strong>{{ booking.movie.name }}</strong> - {{ booking.show }}<br>
        Seats: {% for seat in booking.seats.all %}{{ seat.seat_number }}{% if not forloop.last %}, {% endif %}{% endfor %}<br>
        Booked at: {{ booking.booked_at|date:'Y-m-d H:i' }}
        <a href="{% url 'view_ticket' booking.id %}" class="view-ticket-btn"><i class="fas fa-ticket-alt"></i> View Ticket</a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No bookings found.</p>
{% endif %}
{% endblock %}
